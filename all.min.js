function open_menu(){$(".nav-title button").prop("disabled",!0);var e=parseInt($(".menu").css("width"));$(".app").css("width","calc(100% - "+e+"px)"),setTimeout(function(){$(".menu").fadeIn(300).promise().done(function(){$(".nav-title button").prop("disabled",!1)})},300)}function close_menu(){$(".nav-title button").prop("disabled",!0),$(".menu").fadeOut(300).promise().done(function(){$(".app").css("width","100%"),setTimeout(function(){$(".nav-title button").prop("disabled",!1)},300)})}function normalizePosition(e,n){var t=document.getElementsByTagName("body")[0],o=o=document.getElementById("context-menu");const{left:i,top:d}=t.getBoundingClientRect(),c=n-d,s=e-i+o.clientWidth>t.clientWidth,a=c+o.clientHeight>t.clientHeight;let u=e,r=n;return s&&(u=i+t.clientWidth-o.clientWidth),a&&(r=d+t.clientHeight-o.clientHeight),{normalizedX:u,normalizedY:r}}function openContextMenu(e,n){$("#context-menu").html(e);var t=normalizePosition(n.clientX,n.clientY);$("#context-menu").css("top",t.normalizedY),$("#context-menu").css("left",t.normalizedX),$("#context-menu").hasClass("visible")||$("#context-menu").addClass("visible")}function addContextMenu(e,n){$("body").on("contextmenu",n,function(n){openContextMenu(e,n)})}"dark-theme"==localStorage.getItem("theme")&&($("body").addClass("dark-theme"),$("#dark-theme-toggle-switch input").prop("checked",!0)),$("#dark-theme-toggle-switch input").change(function(){this.checked?(localStorage.setItem("theme","dark-theme"),$("body").hide(),$("*").addClass("no-transition"),$("body").addClass("dark-theme"),$("body").fadeIn(300),$("*").removeClass("no-transition")):(localStorage.setItem("theme","light-theme"),$("body").hide(),$("*").addClass("no-transition"),$("body").removeClass("dark-theme"),$("body").fadeIn(300),$("*").removeClass("no-transition"))}),$(document).on("click",".modern-dropdown button",function(){"none"==$(this).closest(".modern-dropdown").find(".dropdown-content").css("display")?($(this).closest(".modern-dropdown").find(".dropdown-content").fadeIn(100),$(this).closest(".modern-dropdown").addClass("dropdown-active")):($(this).closest(".modern-dropdown").find(".dropdown-content").fadeOut(100),$(this).closest(".modern-dropdown").removeClass("dropdown-active"))}),$(document).on("click",function(e){$(e.target).closest(".modern-dropdown").length||($(".dropdown-content").fadeOut(100),$(".modern-dropdown").removeClass("dropdown-active"))}),$(document).on("click",".horizontal-menu button",function(){$(this).closest(".horizontal-menu").find("button").removeClass("button-active"),$(this).addClass("button-active")}),$(document).ready(function(){var e=parseInt($(".menu").css("width"));$(".app").css("width","calc(100% - "+e+"px)")}),$(document).ready(function(){$(document).innerWidth()<700&&close_menu()}),$(window).on("resize",function(){$(document).innerWidth()<700&&close_menu()}),$(".nav-title button").click(function(){"none"==$(".menu").css("display")?open_menu():close_menu()}),$(".menu-button").click(function(){$("body").innerWidth()<700&&setTimeout(function(){close_menu()},400)}),$("#search-bar form").click(function(){$("#search-bar input").focus()}),$("#search-bar input").focusin(function(){$("#search-bar").addClass("search-bar-active")}),$("#search-bar input").focusout(function(){$("body").one("mouseup",function(){$("#search-bar").removeClass("search-bar-active"),$("#search-bar input").val(""),$("#search-list").hide()})}),$(document).on("click",function(){$("#context-menu").hasClass("visible")&&$("#context-menu").removeClass("visible")}),$("body").contextmenu(function(e){e.preventDefault()}),addContextMenu("\n<div class=item>Item 1</div>\n<div class=item>Item 2</div>\n<div class=item>Item 3</div>\n",".app");